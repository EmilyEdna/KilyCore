<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>企业注册</title>
    <link href="~/Content/BootStrap/Css/bootstrap.css" rel="stylesheet" />
    <link href="~/Content/FontAwesome/Css/font-awesome.css" rel="stylesheet" />
    <link href="~/Content/HPlus/Css/Hplus.css" rel="stylesheet" />
    <link href="~/Content/Enterprise/css/Regist.css" rel="stylesheet" />

    <script src="~/Content/JavaScript/jquery.min.js"></script>
    <script src="~/Content/BootStrap/Script/bootstrap.js"></script>
    <script src="~/Content/Layer/layer.js"></script>
    <script src="~/Content/JavaScript/jquery.cookie.js"></script>
    <script src="~/Content/JavaScript/jquery.extension.js"></script>
    <script src="~/Content/JavaScript/Controller.js"></script>
    <script>
        if (window.top !== window.self) {
            window.top.location = window.location;
        }
        var map = { "种植企业": 10, "养殖企业": 20, "生产企业": 30, "流通企业": 40, "其他企业": 50 };
        var options = {
            Init: function () {
                this.InitDom();
                this.InitEvents();
            },
            InitDom: function () {
            
            },
            InitEvents: function () {
                //注册事件
                $("#Regist").on('click', function () {
                    var data = $("#Edit").SerializeJson();
                    if (data.CompanyName == "") {
                        controller.Tips("请输入公司名称", "#CompanyName", { tips: [2, '#FF0000'] });
                        return;
                    }
                    if (data.CompanyAccount == "") {
                        controller.Tips("请输入公司账号", "#CompanyAccount", { tips: [2, '#FF0000'] });
                        return;
                    }
                    if (data.CompanyType == "") {
                        controller.Tips("请选择公司类型", "#CompanyType", { tips: [2, '#FF0000'] });
                        return;
                    }
                    if (map[data.CompanyType] == undefined) {
                        controller.Tips("请勿输入公司类型", "#CompanyType", { tips: [2, '#FF0000'] });
                        return;
                    } else {
                        data.CompanyType = map[data.CompanyType];
                    }
                    if (data.PassWord == "") {
                        controller.Tips("请输入公司密码", "#PassWord_One", { tips: [2, '#FF0000'] });
                        return;
                    }
                    if (!$("#checkbox").is(":checked")) {
                        controller.Tips("请勾选相关协议", "#checkbox", { tips: [3, '#FF0000'] });
                        return;
                    }
                    if (data.PassWord === $("#PassWord_Two").val()) {
                        controller.ajax({
                            url: "Enterprise/RegistCompanyAccount",
                            data: { Parameter: data },
                            type: "post",
                            success: function (result) {
                                $("#Edit")[0].reset();
                                controller.SetHref("Login");
                            }
                        });
                    }
                    else { controller.Tips("两次输入的密码不同", "#PassWord_Two", { tips: [2, '#FF0000'] }); }
                });
            },
        };
        $(document).ready(function () {
            options.Init();
        });
    </script>
</head>
<body>
    <!--头部-->
    <header>
        <div class="logo">
            <a href="#"><img src="~/Content/Enterprise/img/logo.png" alt="" /></a>
            <span>中食药监管信息查询平台-企业注册</span>
        </div>
    </header>
    <!--中间-->
    <div class="main">
        <div class="rg-box">
            <div class="reg-head">
                <h3 class="head-title">注册</h3>
            </div>
            <form class="form-horizontal" role="form" id="Edit">
                <div class="rg-input rg-name">
                    <input type="text" maxlength="32" class="ui-input" name="CompanyName" id="CompanyName" placeholder="| 请输入公司名称">
                </div>
                <div class="rg-input rg-number">
                    <input type="text" maxlength="32" class="ui-input" name="CompanyAccount" id="CompanyAccount" placeholder="| 请输入登录账户">
                </div>
                <div class="rg-input rg-type">
                    <input type="text" list="dataType" maxlength="32"  class="ui-input" name="CompanyType" id="CompanyType" placeholder="| 请选择公司类型">
                    <datalist  id="dataType">
                        <option value="种植企业"></option>
                        <option value="养殖企业"></option>
                        <option value="生产企业"></option>
                        <option value="流通企业"></option>
                        <option value="其他企业"></option>
                    </datalist>
                </div>
                <div class="rg-input rg-psw">
                    <input type="password" maxlength="32" class="ui-input" name="PassWord" id="PassWord_One" placeholder="| 输入密码">
                </div>
                <div class="rg-input rg-psw">
                    <input type="password" maxlength="32" class="ui-input" id="PassWord_Two" placeholder="| 请再次输入密码">
                </div>
                <div class="rg-agree">
                    <input id="checkbox" type="checkbox" name="gender">我同意<a href="#">《注册协议》</a>
                </div>
                <div class="regbox">
                    <button type="button" data-wait="1500" id="Regist">立即注册</button>
                </div>
            </form>
        </div>
    </div>
</body>
</html>
